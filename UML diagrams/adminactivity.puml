@startuml
title Activity Diagram - Public Grievance Reporting System (Admin Workflow)

skinparam shadowing false
skinparam roundcorner 15
skinparam linetype ortho
skinparam arrow {
  Color black
  FontColor black
}

start

:Admin logs in;
if (Login successful?) then (Yes)
  :Display Admin Dashboard;
  :Fetch new complaints from database;

  if (New complaints exist?) then (Yes)
    :Admin reviews complaint details;
    :Check department and eligible workers;
    :Assign complaint to selected worker;
    :System updates complaint status to "Assigned";
    :Record activity in AdminLog;
    :Notify worker about assignment;

    partition Worker {
      :Worker logs in;
      :Views assigned complaints;
      :Resolves issue;
      :Uploads resolution photo;
      :Updates status to "Resolved";
    }

    :System stores resolution details;
    :Admin verifies resolution proof;

    if (Resolution verified?) then (Yes)
      :Mark complaint as "Verified";
      :Notify user about resolution;
      :Record verification in AdminLog;
    else (No)
      :Send back to worker for rework;
    endif

  else (No)
    :Display "No pending complaints";
  endif

else (No)
  :Display login error message;
endif

stop
@enduml
